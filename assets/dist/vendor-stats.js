!function(e){"function"==typeof define&&define.amd?define("vendorStats",e):e()}(function(){"use strict";window.render_vendor_stats=()=>{Array.from(document.querySelectorAll(".ts-vendor-stats")).forEach(e=>{e.__vue_app__||(e=>{let t=JSON.parse(e.closest(".elementor-element").querySelector(".vxconfig").innerHTML);return Vue.createApp({el:e,mixins:[Voxel.mixins.base],data(){return{loading:!1,charts:t.charts,activeChart:t.charts[t.activeChart]?t.activeChart:"this-week",activeItem:null,scrollArea:{isDown:!1,scrollLeft:null,startX:null}}},mounted(){this.$nextTick(()=>this.dragScroll())},methods:{loadMore(e){this.loading=!0,jQuery.get(Voxel_Config.ajax_url+"&action=orders.get_stats",{chart:this.activeChart,date:this.currentChart.meta.state.date,direction:e}).always(e=>{this.loading=!1,e.success?this.charts[this.activeChart]=e.data:Voxel.alert(e.message||Voxel_Config.l10n.ajaxError,"error")})},showPopup(e,t){this.activeItem=t;t=e.target.getBoundingClientRect();this.$refs.popup.style.left=t.left+t.width+10+"px",this.$refs.popup.style.top=t.top+"px"},hidePopup(){this.activeItem=null},dragScroll(){let t=this.$refs.scrollArea;t&&(t.addEventListener("mouseup",()=>this.scrollArea.isDown=!1),t.addEventListener("mouseleave",()=>this.scrollArea.isDown=!1),t.addEventListener("mousedown",e=>{this.scrollArea.isDown=!0,this.scrollArea.startX=e.pageX-t.offsetLeft,this.scrollArea.scrollLeft=t.scrollLeft}),t.addEventListener("mousemove",e=>{this.scrollArea.isDown&&(e.preventDefault(),e=e.pageX-t.offsetLeft-this.scrollArea.startX,t.scrollLeft=this.scrollArea.scrollLeft-e)}))}},computed:{currentChart(){return this.charts[this.activeChart]}},watch:{currentChart(){this.$nextTick(()=>this.dragScroll())}}})})(e).mount(e)})},window.render_vendor_stats(),jQuery(document).on("voxel:markup-update",window.render_vendor_stats)});
